import{r as d,ap as Re,aq as Ie,ar as Pe,as as Le,j as e,at as ze,au as Te,av as ke,aw as fe,W as X,V as K,X as z,Z as Q,S as H,U as J,x as T,ax as _e,Y as Z,_ as le,Q as Ne,v as ae,w as ne,ay as xe,az as $e,y as F,aA as Ae,k as M,E as $,a1 as ge,a2 as ve,a3 as be,T as _,l as G,u as De}from"./index-D2RzZOxE.js";import{g as Fe,T as We,b as Ve,c as ce}from"./UserTypesApi-iRzO7hUH.js";import{C as Ue,a as Oe}from"./CardContent-DM4B8who.js";import{G as R}from"./Grid-DHlN3wQ6.js";import{M as te}from"./MenuItem-D4b2uCv6.js";import{I as B}from"./VisibilityOff-OVoZowFg.js";import{C as je}from"./CheckCircle-zJJBuvz0.js";import{L as Be,M as He,T as de}from"./index.esm-5xj4LR9k.js";import{a as qe}from"./Close-Ce2Zq2cd.js";import{S as ye}from"./search-CMJeHf_M.js";import{G as Ye,L as Ge,F as Xe,S as Ke}from"./star-DPb_8PM5.js";import{B as Qe}from"./book-open-BoVW2SLy.js";import{C as Je}from"./clock-CfMtCgNK.js";import{D as Ze}from"./dollar-sign-4odwWE-g.js";import"./Edit-VvtwGzb-.js";import"./IconButton-CrdpUguL.js";import"./FormControlLabel-BkPtrJae.js";import"./DialogTitle-BOh6f4ps.js";import"./ListItemIcon-B-ed5IYr.js";import"./Divider-C5GvEAwZ.js";import"./createLucideIcon-D2ybMzJc.js";function et(t,r,a){const s=r.getBoundingClientRect(),n=a&&a.getBoundingClientRect(),f=Le(r);let u;if(r.fakeTransform)u=r.fakeTransform;else{const p=f.getComputedStyle(r);u=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform")}let x=0,m=0;if(u&&u!=="none"&&typeof u=="string"){const p=u.split("(")[1].split(")")[0].split(",");x=parseInt(p[4],10),m=parseInt(p[5],10)}return t==="left"?n?`translateX(${n.right+x-s.left}px)`:`translateX(${f.innerWidth+x-s.left}px)`:t==="right"?n?`translateX(-${s.right-n.left-x}px)`:`translateX(-${s.left+s.width-x}px)`:t==="up"?n?`translateY(${n.bottom+m-s.top}px)`:`translateY(${f.innerHeight+m-s.top}px)`:n?`translateY(-${s.top-n.top+s.height-m}px)`:`translateY(-${s.top+s.height-m}px)`}function tt(t){return typeof t=="function"?t():t}function re(t,r,a){const s=tt(a),n=et(t,r,s);n&&(r.style.webkitTransform=n,r.style.transform=n)}const Ce=d.forwardRef(function(r,a){const s=Re(),n={enter:s.transitions.easing.easeOut,exit:s.transitions.easing.sharp},f={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:u,appear:x=!0,children:m,container:p,direction:h="down",easing:v=n,in:b,onEnter:N,onEntered:I,onEntering:o,onExit:C,onExited:E,onExiting:w,style:l,timeout:c=f,TransitionComponent:i=ze,...y}=r,j=d.useRef(null),P=Ie(Pe(m),j,a),S=g=>L=>{g&&(L===void 0?g(j.current):g(j.current,L))},A=S((g,L)=>{re(h,g,p),ke(g),N&&N(g,L)}),W=S((g,L)=>{const Y=fe({timeout:c,style:l,easing:v},{mode:"enter"});g.style.webkitTransition=s.transitions.create("-webkit-transform",{...Y}),g.style.transition=s.transitions.create("transform",{...Y}),g.style.webkitTransform="none",g.style.transform="none",o&&o(g,L)}),V=S(I),k=S(w),U=S(g=>{const L=fe({timeout:c,style:l,easing:v},{mode:"exit"});g.style.webkitTransition=s.transitions.create("-webkit-transform",L),g.style.transition=s.transitions.create("transform",L),re(h,g,p),C&&C(g)}),O=S(g=>{g.style.webkitTransition="",g.style.transition="",E&&E(g)}),ee=g=>{u&&u(j.current,g)},q=d.useCallback(()=>{j.current&&re(h,j.current,p)},[h,p]);return d.useEffect(()=>{if(b||h==="down"||h==="right")return;const g=Te(()=>{j.current&&re(h,j.current,p)}),L=Le(j.current);return L.addEventListener("resize",g),()=>{g.clear(),L.removeEventListener("resize",g)}},[h,b,p]),d.useEffect(()=>{b||q()},[b,q]),e.jsx(i,{nodeRef:j,onEnter:A,onEntered:V,onEntering:W,onExit:U,onExited:O,onExiting:k,addEndListener:ee,appear:x,in:b,timeout:c,...y,children:(g,{ownerState:L,...Y})=>d.cloneElement(m,{ref:P,style:{visibility:g==="exited"&&!b?"hidden":void 0,...l,...m.props.style},...Y})})}),oe=d.createContext({}),he=d.createContext({});function rt(t){return K("MuiStep",t)}X("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const st=t=>{const{classes:r,orientation:a,alternativeLabel:s,completed:n}=t;return J({root:["root",a,s&&"alternativeLabel",n&&"completed"]},rt,r)},at=z("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.root,r[a.orientation],a.alternativeLabel&&r.alternativeLabel,a.completed&&r.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),nt=d.forwardRef(function(r,a){const s=Q({props:r,name:"MuiStep"}),{active:n,children:f,className:u,component:x="div",completed:m,disabled:p,expanded:h=!1,index:v,last:b,...N}=s,{activeStep:I,connector:o,alternativeLabel:C,orientation:E,nonLinear:w}=d.useContext(oe);let[l=!1,c=!1,i=!1]=[n,m,p];I===v?l=n!==void 0?n:!0:!w&&I>v?c=m!==void 0?m:!0:!w&&I<v&&(i=p!==void 0?p:!0);const y=d.useMemo(()=>({index:v,last:b,expanded:h,icon:v+1,active:l,completed:c,disabled:i}),[v,b,h,l,c,i]),j={...s,active:l,orientation:E,alternativeLabel:C,completed:c,disabled:i,expanded:h,component:x},P=st(j),S=e.jsxs(at,{as:x,className:H(P.root,u),ref:a,ownerState:j,...N,children:[o&&C&&v!==0?o:null,f]});return e.jsx(he.Provider,{value:y,children:o&&!C&&v!==0?e.jsxs(d.Fragment,{children:[o,S]}):S})}),ot=T(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),it=T(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function lt(t){return K("MuiStepIcon",t)}const ue=X("MuiStepIcon",["root","active","completed","error","text"]);var Se;const ct=t=>{const{classes:r,active:a,completed:s,error:n}=t;return J({root:["root",a&&"active",s&&"completed",n&&"error"],text:["text"]},lt,r)},pe=z(_e,{name:"MuiStepIcon",slot:"Root"})(Z(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${ue.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${ue.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${ue.error}`]:{color:(t.vars||t).palette.error.main}}))),dt=z("text",{name:"MuiStepIcon",slot:"Text"})(Z(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}))),ut=d.forwardRef(function(r,a){const s=Q({props:r,name:"MuiStepIcon"}),{active:n=!1,className:f,completed:u=!1,error:x=!1,icon:m,...p}=s,h={...s,active:n,completed:u,error:x},v=ct(h);if(typeof m=="number"||typeof m=="string"){const b=H(f,v.root);return x?e.jsx(pe,{as:it,className:b,ref:a,ownerState:h,...p}):u?e.jsx(pe,{as:ot,className:b,ref:a,ownerState:h,...p}):e.jsxs(pe,{className:b,ref:a,ownerState:h,...p,children:[Se||(Se=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(dt,{className:v.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:h,children:m})]})}return m});function pt(t){return K("MuiStepLabel",t)}const D=X("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),mt=t=>{const{classes:r,orientation:a,active:s,completed:n,error:f,disabled:u,alternativeLabel:x}=t;return J({root:["root",a,f&&"error",u&&"disabled",x&&"alternativeLabel"],label:["label",s&&"active",n&&"completed",f&&"error",u&&"disabled",x&&"alternativeLabel"],iconContainer:["iconContainer",s&&"active",n&&"completed",f&&"error",u&&"disabled",x&&"alternativeLabel"],labelContainer:["labelContainer",x&&"alternativeLabel"]},pt,r)},xt=z("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.root,r[a.orientation]]}})({display:"flex",alignItems:"center",[`&.${D.alternativeLabel}`]:{flexDirection:"column"},[`&.${D.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),ht=z("span",{name:"MuiStepLabel",slot:"Label"})(Z(({theme:t})=>({...t.typography.body2,display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${D.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${D.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${D.alternativeLabel}`]:{marginTop:16},[`&.${D.error}`]:{color:(t.vars||t).palette.error.main}}))),ft=z("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${D.alternativeLabel}`]:{paddingRight:0}}),gt=z("span",{name:"MuiStepLabel",slot:"LabelContainer"})(Z(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${D.alternativeLabel}`]:{textAlign:"center"}}))),Ee=d.forwardRef(function(r,a){const s=Q({props:r,name:"MuiStepLabel"}),{children:n,className:f,componentsProps:u={},error:x=!1,icon:m,optional:p,slots:h={},slotProps:v={},StepIconComponent:b,StepIconProps:N,...I}=s,{alternativeLabel:o,orientation:C}=d.useContext(oe),{active:E,disabled:w,completed:l,icon:c}=d.useContext(he),i=m||c;let y=b;i&&!y&&(y=ut);const j={...s,active:E,alternativeLabel:o,completed:l,disabled:w,error:x,orientation:C},P=mt(j),S={slots:h,slotProps:{stepIcon:N,...u,...v}},[A,W]=le("root",{elementType:xt,externalForwardedProps:{...S,...I},ownerState:j,ref:a,className:H(P.root,f)}),[V,k]=le("label",{elementType:ht,externalForwardedProps:S,ownerState:j}),[U,O]=le("stepIcon",{elementType:y,externalForwardedProps:S,ownerState:j});return e.jsxs(A,{...W,children:[i||U?e.jsx(ft,{className:P.iconContainer,ownerState:j,children:e.jsx(U,{completed:l,active:E,error:x,icon:i,...O})}):null,e.jsxs(gt,{className:P.labelContainer,ownerState:j,children:[n?e.jsx(V,{...k,className:H(P.label,k==null?void 0:k.className),children:n}):null,p]})]})});Ee.muiName="StepLabel";function vt(t){return K("MuiStepConnector",t)}X("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const bt=t=>{const{classes:r,orientation:a,alternativeLabel:s,active:n,completed:f,disabled:u}=t,x={root:["root",a,s&&"alternativeLabel",n&&"active",f&&"completed",u&&"disabled"],line:["line",`line${Ne(a)}`]};return J(x,vt,r)},jt=z("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.root,r[a.orientation],a.alternativeLabel&&r.alternativeLabel,a.completed&&r.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),yt=z("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.line,r[`line${Ne(a.orientation)}`]]}})(Z(({theme:t})=>{const r=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:r,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),Ct=d.forwardRef(function(r,a){const s=Q({props:r,name:"MuiStepConnector"}),{className:n,...f}=s,{alternativeLabel:u,orientation:x="horizontal"}=d.useContext(oe),{active:m,disabled:p,completed:h}=d.useContext(he),v={...s,alternativeLabel:u,orientation:x,active:m,completed:h,disabled:p},b=bt(v);return e.jsx(jt,{className:H(b.root,n),ref:a,ownerState:v,...f,children:e.jsx(yt,{className:b.line,ownerState:v})})});function St(t){return K("MuiStepper",t)}X("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const wt=t=>{const{orientation:r,nonLinear:a,alternativeLabel:s,classes:n}=t;return J({root:["root",r,a&&"nonLinear",s&&"alternativeLabel"]},St,n)},Lt=z("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.root,r[a.orientation],a.alternativeLabel&&r.alternativeLabel,a.nonLinear&&r.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),Nt=e.jsx(Ct,{}),Et=d.forwardRef(function(r,a){const s=Q({props:r,name:"MuiStepper"}),{activeStep:n=0,alternativeLabel:f=!1,children:u,className:x,component:m="div",connector:p=Nt,nonLinear:h=!1,orientation:v="horizontal",...b}=s,N={...s,nonLinear:h,alternativeLabel:f,orientation:v,component:m},I=wt(N),o=d.Children.toArray(u).filter(Boolean),C=o.map((w,l)=>d.cloneElement(w,{index:l,last:l+1===o.length,...w.props})),E=d.useMemo(()=>({activeStep:n,alternativeLabel:f,connector:p,nonLinear:h,orientation:v}),[n,f,p,h,v]);return e.jsx(oe.Provider,{value:E,children:e.jsx(Lt,{as:m,ownerState:N,className:H(I.root,x),ref:a,...b,children:C})})}),Mt=T(e.jsx("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8zM5 19l3-4 2 3 3-4 4 5z"})),Rt=T(e.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"})),It=T(e.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"})),Pt=T(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),zt=T(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),Tt=T([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),we=T(e.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),kt=T(e.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"})),_t=()=>({headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem($e.access)}`}}),$t=t=>ae.post(`${ne}courses/`,t,xe()).then(r=>r.data),At=t=>ae.post(`${ne}course_details/`,t,_t()).then(r=>r.data),Dt=()=>ae.get(`${ne}courses/`,xe()).then(t=>t.data),Ft=()=>ae.get(`${ne}course_details/`,xe()).then(t=>t.data),se=["Program Details","Course Details"],Wt=()=>{const[t,r]=d.useState(0),[a,s]=d.useState(null),[n,f]=d.useState([]),[u,x]=d.useState({name:"",code:"",duration:"",fees:"",location:"",university:5}),[m,p]=d.useState({summary:"",qualifications:"",poster:null,rating:"",department:"",credit_hours:"",application_status:"",course:5});d.useEffect(()=>{o()},[]);const h=l=>{const{name:c,value:i}=l.target;x(y=>({...y,[c]:i}))},v=l=>{const c=l.target.value;x(i=>({...i,university:c}))},b=l=>{const{name:c,value:i}=l.target;p(y=>({...y,[c]:i}))},N=l=>{l.target.files&&l.target.files[0]&&p(c=>({...c,poster:l.target.files[0]}))},I=l=>{const c=l.target.value;p(i=>({...i,application_status:c}))},o=async()=>{try{const i=(await Fe()).results.map(y=>({value:y.id,label:y.university_name}));f(i)}catch(l){console.error("Error fetching universities:",l),F.error("Failed to load universities")}},C=async()=>{const{name:l,code:c,duration:i,fees:y,location:j,university:P}=u;if(!l||!c||!i||!y||!j||!P){F.error("Please fill all required fields for the program");return}r(S=>S+1)},E=()=>{r(l=>l-1)},w=async()=>{const{name:l,code:c,duration:i,fees:y,location:j,university:P}=u;try{const A=await $t({name:l,code:c,duration:i,fees:y,location:j,university:P});if(!(A!=null&&A.id)){F.error("Failed to create program");return}const W=A.id;s(W);const{summary:V,qualifications:k,poster:U,department:O,credit_hours:ee,application_status:q}=m;if(!V||!k||!O||!ee||!q){F.error("Please fill all required fields for the course");return}const g={summary:V,qualifications:k,poster:U,department:O,credit_hours:ee,application_status:q,course:W},L=new FormData;if(Object.entries(g).forEach(([Me,ie])=>{ie!=null&&L.append(Me,ie)}),await At(L))F.success("Course details added successfully!"),r(se.length),x({name:"",code:"",duration:"",fees:"",location:"",university:0}),p({summary:"",qualifications:"",poster:null,rating:"",department:"",credit_hours:"",application_status:"",course:0}),s(null);else throw new Error("Failed to create course details")}catch(S){console.error(S),F.error("Failed to create program or course details")}};return e.jsx(Ae,{in:!0,children:e.jsx(M,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh"},children:e.jsxs(Ue,{sx:{width:"100%",maxWidth:950,borderRadius:3,boxShadow:"0 15px 35px rgba(50, 50, 93, 0.1), 0 5px 15px rgba(0, 0, 0, 0.07)",overflow:"visible"},children:[e.jsx(M,{sx:{background:"linear-gradient(45deg, #4776E6 0%, #8E54E9 100%)",color:"white",p:3,borderTopLeftRadius:12,borderTopRightRadius:12},children:e.jsxs($,{variant:"body1",sx:{opacity:.9},children:[e.jsx(we,{sx:{fontSize:32,mr:1.5}}),"Follow the steps to create a new program and course"]})}),e.jsxs(Oe,{sx:{p:4},children:[e.jsx(Et,{activeStep:t,sx:{mb:5,px:2},children:se.map((l,c)=>e.jsx(nt,{children:e.jsx(Ee,{StepIconProps:{sx:{color:t===c?"#4776E6":"#ccc","& .MuiStepIcon-text":{fontWeight:"bold"}}},children:e.jsx($,{variant:"body2",fontWeight:"500",children:l})})},l))}),e.jsx(Ce,{direction:"right",in:t===0,mountOnEnter:!0,unmountOnExit:!0,children:e.jsx(M,{children:e.jsxs(R,{container:!0,spacing:2,children:[e.jsx(R,{item:!0,xs:12,sx:{width:"40%"},children:e.jsxs(ge,{fullWidth:!0,children:[e.jsx(ve,{id:"university-label",children:"University"}),e.jsxs(be,{labelId:"university-label",label:"University",name:"university",value:u.university,onChange:v,children:[e.jsx(te,{value:0,children:e.jsx("em",{children:"Select University"})}),n.map(l=>e.jsx(te,{value:l.value,children:l.label},l.value))]})]})}),e.jsx(R,{item:!0,xs:12,sm:6,children:e.jsx(_,{fullWidth:!0,label:"Program Name",name:"name",value:u.name,onChange:h,variant:"outlined",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(we,{color:"action"})})}})}),e.jsx(R,{item:!0,xs:12,sm:6,children:e.jsx(_,{fullWidth:!0,label:"Program Code",name:"code",value:u.code,onChange:h,variant:"outlined"})}),e.jsx(R,{item:!0,xs:12,sm:6,children:e.jsx(_,{fullWidth:!0,label:"Duration (months)",name:"duration",type:"number",value:u.duration,onChange:h,variant:"outlined",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(Tt,{color:"action"})})}})}),e.jsx(R,{item:!0,xs:12,sm:6,children:e.jsx(_,{fullWidth:!0,label:"Fees ($)",name:"fees",type:"number",value:u.fees,onChange:h,variant:"outlined",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(Rt,{color:"action"})})}})}),e.jsx(R,{item:!0,xs:12,children:e.jsx(_,{fullWidth:!0,label:"Location",name:"location",value:u.location,onChange:h,variant:"outlined",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(zt,{color:"action"})})}})})]})})}),e.jsx(Ce,{direction:"left",in:t===1,mountOnEnter:!0,unmountOnExit:!0,children:e.jsxs(M,{children:[e.jsxs($,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3,color:"#4776E6"},children:[e.jsx(Pt,{sx:{mr:1}})," Course Information"]}),e.jsxs(R,{container:!0,spacing:3,children:[e.jsx(R,{item:!0,xs:12,children:e.jsx(_,{label:"Course Summary",name:"summary",fullWidth:!0,multiline:!0,rows:4,value:m.summary,onChange:b,variant:"outlined"})}),e.jsx(R,{item:!0,xs:12,children:e.jsx(_,{label:"Required Qualifications",name:"qualifications",fullWidth:!0,multiline:!0,rows:3,value:m.qualifications,onChange:b,variant:"outlined",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(kt,{color:"action"})})}})}),e.jsx(R,{item:!0,xs:12,sm:6,children:e.jsx(_,{label:"Department",name:"department",fullWidth:!0,value:m.department,onChange:b,variant:"outlined"})}),e.jsx(R,{item:!0,xs:12,sm:6,children:e.jsx(_,{label:"Credit Hours",name:"credit_hours",type:"number",fullWidth:!0,value:m.credit_hours,onChange:b,variant:"outlined",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(It,{color:"action"})})}})}),e.jsx(R,{item:!0,xs:12,sx:{minWidth:"20%"},children:e.jsxs(ge,{fullWidth:!0,variant:"outlined",children:[e.jsx(ve,{children:"Status"}),e.jsxs(be,{name:"application_status",value:m.application_status,onChange:I,label:"Status",children:[e.jsx(te,{value:"OPEN",children:"OPEN"}),e.jsx(te,{value:"CLOSED",children:"CLOSED"})]})]})}),e.jsx(R,{item:!0,xs:12,children:e.jsxs(M,{sx:{border:"2px dashed #ccc",borderRadius:2,p:3,textAlign:"center",transition:"all 0.3s ease","&:hover":{borderColor:"#4776E6",backgroundColor:"rgba(71, 118, 230, 0.03)"}},children:[e.jsx("input",{accept:"image/*",style:{display:"none"},id:"poster-upload",type:"file",name:"poster",onChange:N}),e.jsx("label",{htmlFor:"poster-upload",children:e.jsx(G,{variant:"outlined",component:"span",startIcon:e.jsx(Mt,{}),sx:{mb:1},children:"Upload Course Poster"})}),m.poster&&e.jsx(M,{mt:1,children:e.jsxs($,{variant:"body2",color:"success.main",children:["Selected: ",m.poster.name]})}),e.jsx($,{variant:"caption",display:"block",sx:{mt:1,color:"text.secondary"},children:"JPEG, PNG or GIF (Max 5MB)"})]})})]})]})}),e.jsxs(M,{mt:6,display:"flex",justifyContent:"space-between",children:[e.jsx(G,{disabled:t===0,onClick:E,variant:"outlined",sx:{borderRadius:2,px:3},children:"Back"}),t===se.length-1?e.jsx(G,{variant:"contained",onClick:w,sx:{borderRadius:2,px:4,background:"linear-gradient(45deg, #4776E6 0%, #8E54E9 100%)",boxShadow:"0 4px 10px rgba(71, 118, 230, 0.3)"},endIcon:e.jsx(je,{}),children:"Create Course"}):e.jsx(G,{variant:"contained",onClick:C,sx:{borderRadius:2,px:4,background:"linear-gradient(45deg, #4776E6 0%, #8E54E9 100%)",boxShadow:"0 4px 10px rgba(71, 118, 230, 0.3)"},children:"Next"})]}),t===se.length&&e.jsxs(M,{mt:4,textAlign:"center",py:4,children:[e.jsx(je,{sx:{fontSize:60,color:"success.main",mb:2}}),e.jsx($,{variant:"h5",gutterBottom:!0,color:"success.main",children:"Course Created Successfully!"}),e.jsx($,{variant:"body1",color:"text.secondary",children:"Your program and course have been successfully created and saved."}),e.jsx(G,{variant:"outlined",sx:{mt:3},onClick:()=>{r(0),x({name:"",code:"",duration:"",fees:"",location:"",university:0}),p({summary:"",qualifications:"",poster:null,rating:"",department:"",credit_hours:"",application_status:"",course:0}),s(null)},children:"Create Another Course"})]})]})]})})})},me=t=>{const r=["name","code","duration","fees","location","summary","qualifications","department","credit_hours","rating","application_status"],a=r.filter(s=>{const n=t[s];return n!=null&&n!==""});return Math.round(a.length/r.length*100)},Vt=[{name:"Telthu Medical",code:"415424",duration:"4",fees:32e3,location:"St. Lucia west",summary:"Study of human body and functions",qualifications:"MBBS",department:"MBBS",credit_hours:234,rating:5,application_status:"OPEN"},{name:"Pharma Study",code:"PHM-209",duration:"",fees:15e3,location:"",summary:"",qualifications:"",department:"",credit_hours:null,rating:null,application_status:""}],Ut=()=>{const t=d.useMemo(()=>[{accessorKey:"name",header:"Name",size:180},{accessorKey:"code",header:"Code",size:100},{accessorKey:"application_status",header:"Status",Cell:({row:r})=>{const a=me(r.original),s=a===100?"Submitted":"Incomplete",n=a===100?"success":"warning";return e.jsx(qe,{label:s,color:n,size:"small"})}},{header:"Progress",accessorFn:r=>me(r),Cell:({row:r})=>{const a=me(r.original);return e.jsxs(M,{sx:{width:"100%"},children:[e.jsx(Be,{variant:"determinate",value:a,sx:{height:8,borderRadius:4,mb:.5},color:a===100?"success":"primary"}),e.jsxs($,{variant:"body2",align:"center",children:[a,"%"]})]})},size:200}],[]);return e.jsx(He,{columns:t,data:Vt,enableColumnResizing:!0,enableSorting:!0,initialState:{density:"compact"}})},Ot=()=>{const t=d.useRef(null),[r,a]=d.useState([]),[s,n]=d.useState("grid"),[f,u]=d.useState(""),[x,m]=d.useState("all"),[p,h]=d.useState("all"),v=De();d.useEffect(()=>{b()},[]);const b=async()=>{try{const[o,C]=await Promise.all([Dt(),Ft()]),E=(o==null?void 0:o.results)||[],w=(C==null?void 0:C.results)||[],l=E.filter(c=>w.some(i=>i.course===c.id)).map(c=>{const i=w.find(y=>y.course===c.id);return{id:c.id,title:c.name,code:c.code,duration:c.duration,price:c.fees,department:(i==null?void 0:i.department)||"N/A",application_status:(i==null?void 0:i.application_status)||"CLOSED",summary:(i==null?void 0:i.summary)||"",qualifications:(i==null?void 0:i.qualifications)||"",credits:(i==null?void 0:i.credit_hours)||0,poster:(i==null?void 0:i.poster)||"",rating:(i==null?void 0:i.rating)??c.average_rating??0,location:c.location,university:c.university}});a(l)}catch(o){console.error("Error fetching courses:",o),F.error("Failed to load courses")}},N=r.filter(o=>{const C=o.title.toLowerCase().includes(f.toLowerCase())||o.department.toLowerCase().includes(f.toLowerCase()),E=x==="all"||o.level===x,w=p==="all"||o.application_status.toLowerCase()===p.toLowerCase();return C&&E&&w}),I=o=>{v("/course-details",{state:{from:o}})};return e.jsx("div",{ref:t,style:{overflowY:"scroll",height:"200px"},className:"min-h-screen bg-gray-50 py-4 px-4 sm:px-6 lg:px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-2xl",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search courses, departments...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:f,onChange:o=>u(o.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:`p-2 rounded-lg ${s==="grid"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,onClick:()=>n("grid"),children:e.jsx(Ye,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${s==="list"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,onClick:()=>n("list"),children:e.jsx(Ge,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by:"})]}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p,onChange:o=>h(o.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"OPEN",children:"Open"}),e.jsx("option",{value:"CLOSED",children:"Closed"})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",N.length," of ",r.length," courses"]})}),e.jsx("div",{className:s==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"grid grid-cols-1 gap-6 max-w-4xl mx-auto",children:N.map(o=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden group h-full flex flex-col",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:o.poster||"https://via.placeholder.com/300x200",alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-gray-800",children:o.code})})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 leading-tight",children:o.title}),e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:o.department}),e.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[e.jsx(Ke,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:o.rating?o.rating.toFixed(1):"N/A"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[o.credits," Credits"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[o.duration," Weeks"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["$",o.price]})]})]}),e.jsxs("button",{className:`w-full py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-200 transform hover:scale-105 ${o.application_status==="OPEN"?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:o.application_status==="CLOSED",onClick:()=>I(o),children:[o.application_status==="OPEN"&&"Enroll Now",o.application_status==="CLOSED"&&"Enrollment Closed"]})]})]},o.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(ye,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria to find what you're looking for."})]})]})})},Bt=z(M)(({theme:t})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:t.spacing(2),padding:t.spacing(2),backgroundColor:t.palette.background.default,borderRadius:t.shape.borderRadius}));function pr(){const[t,r]=d.useState("1"),a=(s,n)=>{r(n)};return e.jsx(M,{sx:{width:"100%",typography:"body1",p:2},children:e.jsxs(We,{value:t,children:[e.jsx(M,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ve,{onChange:a,centered:!0,children:[e.jsx(de,{label:"University Applications",value:"1"}),e.jsx(de,{label:"Course Creation",value:"2"}),e.jsx(de,{label:"Course Catalog",value:"3"})]})}),e.jsxs(ce,{value:"1",sx:{p:0,mt:2},children:[e.jsx(Bt,{children:e.jsx($,{variant:"h5",fontWeight:"bold",children:"University Applications"})}),e.jsx(M,{sx:{p:1,mb:1,border:"1px solid",borderColor:"divider",borderRadius:1},children:e.jsx(Ut,{})})]}),e.jsx(ce,{value:"2",sx:{p:0,mt:2},children:e.jsx(M,{sx:{p:1,mb:1,border:"1px solid",borderColor:"divider",borderRadius:1},children:e.jsx(Wt,{})})}),e.jsx(ce,{value:"3",sx:{p:0,mt:2},children:e.jsx(M,{sx:{p:1,mb:1,border:"1px solid",borderColor:"divider",borderRadius:1},children:e.jsx(Ot,{})})})]})})}export{pr as default};
